Error saving data to database: (psycopg2.errors.NotNullViolation) null value in column "filename" of relation "processedfile" violates not-null constraint DETAIL: Failing row contains (2025-05-08 06:35:30.518999, 2025-05-08 06:35:30.519006, 1, 4, null, step, from_session_state, 2025-05-08 06:35:30.519014, null, {}).

[SQL: INSERT INTO processedfile (created_at, updated_at, experiment_id, filename, file_type, file_hash, processed_at, row_count, data_meta) SELECT p0::TIMESTAMP WITHOUT TIME ZONE, p1::TIMESTAMP WITHOUT TIME ZONE, p2::INTEGER, p3::VARCHAR, p4::VARCHAR, p5:: ... 473 characters truncated ... p6, p7, p8, sen_counter) ORDER BY sen_counter RETURNING processedfile.id, processedfile.id AS id__1] [parameters: {'processed_at__0': datetime.datetime(2025, 5, 8, 6, 35, 30, 519014), 'row_count__0': None, 'data_meta__0': '{}', 'created_at__0': datetime.datetime(2025, 5, 8, 6, 35, 30, 518999), 'experiment_id__0': 4, 'filename__0': None, 'file_type__0': 'step', 'updated_at__0': datetime.datetime(2025, 5, 8, 6, 35, 30, 519006), 'file_hash__0': 'from_session_state', 'processed_at__1': datetime.datetime(2025, 5, 8, 6, 35, 30, 519184), 'row_count__1': None, 'data_meta__1': '{}', 'created_at__1': datetime.datetime(2025, 5, 8, 6, 35, 30, 519170), 'experiment_id__1': 4, 'filename__1': None, 'file_type__1': 'detail', 'updated_at__1': datetime.datetime(2025, 5, 8, 6, 35, 30, 519177), 'file_hash__1': 'from_session_state'}] (Background on this error at: https://sqlalche.me/e/20/gkpj)

IntegrityError: (psycopg2.errors.NotNullViolation) null value in column "filename" of relation "processedfile" violates not-null constraint DETAIL: Failing row contains (2025-05-08 06:35:30.518999, 2025-05-08 06:35:30.519006, 1, 4, null, step, from_session_state, 2025-05-08 06:35:30.519014, null, {}). [SQL: INSERT INTO processedfile (created_at, updated_at, experiment_id, filename, file_type, file_hash, processed_at, row_count, data_meta) SELECT p0::TIMESTAMP WITHOUT TIME ZONE, p1::TIMESTAMP WITHOUT TIME ZONE, p2::INTEGER, p3::VARCHAR, p4::VARCHAR, p5:: ... 473 characters truncated ... p6, p7, p8, sen_counter) ORDER BY sen_counter RETURNING processedfile.id, processedfile.id AS id__1] [parameters: {'processed_at__0': datetime.datetime(2025, 5, 8, 6, 35, 30, 519014), 'row_count__0': None, 'data_meta__0': '{}', 'created_at__0': datetime.datetime(2025, 5, 8, 6, 35, 30, 518999), 'experiment_id__0': 4, 'filename__0': None, 'file_type__0': 'step', 'updated_at__0': datetime.datetime(2025, 5, 8, 6, 35, 30, 519006), 'file_hash__0': 'from_session_state', 'processed_at__1': datetime.datetime(2025, 5, 8, 6, 35, 30, 519184), 'row_count__1': None, 'data_meta__1': '{}', 'created_at__1': datetime.datetime(2025, 5, 8, 6, 35, 30, 519170), 'experiment_id__1': 4, 'filename__1': None, 'file_type__1': 'detail', 'updated_at__1': datetime.datetime(2025, 5, 8, 6, 35, 30, 519177), 'file_hash__1': 'from_session_state'}] (Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback:
File "/home/runner/workspace/app/ui/upload.py", line 530, in render_upload_page
    session.commit()
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
File "<string>", line 2, in commit
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
File "<string>", line 2, in _prepare_impl
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1143, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1841, in _execute_context
    return self._exec_insertmany_context(dialect, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2123, in _exec_insertmany_context
    self._handle_dbapi_exception(
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2115, in _exec_insertmany_context
    dialect.do_execute(
File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 945, in do_execute
    cursor.execute(statement, parameters)